diff --git a/Makefile b/Makefile
index f9d7b55e7..a98e4f848 100644
--- a/Makefile
+++ b/Makefile
@@ -1200,6 +1200,11 @@ prepare0: archprepare
 	$(Q)$(MAKE) $(build)=scripts/mod
 	$(Q)$(MAKE) $(build)=. prepare
 
+# linux-headers debian package postinst
+PHONY += linux-headers-postinst
+linux-headers-postinst: archscripts scripts
+	$(Q)$(MAKE) $(build)=scripts/mod
+
 # All the preparing..
 prepare: prepare0
 ifdef CONFIG_RUST
diff --git a/scripts/package/builddeb b/scripts/package/builddeb
index d7dd0d04c..418ad3a67 100755
--- a/scripts/package/builddeb
+++ b/scripts/package/builddeb
@@ -163,6 +163,27 @@ install_kernel_headers () {
 
 	"${srctree}/scripts/package/install-extmod-build" "${pdir}/usr/src/linux-headers-${version}"
 
+	# create postinst 
+	if [ "$cross_compiling" -eq 1 ]; then
+		(
+			cd "${srctree}"
+			find . -name Makefile\* -o -name Kconfig\* -o -name \*.pl
+			find include tools/include security/selinux/include -type f -o -type l
+			find scripts -type f -o -type l
+			find arch/$SRCARCH -name Kbuild.platforms -o -name Platform
+			find $(find arch/$SRCARCH -name include -o -name scripts -o -name tools -type d) -type f
+		) | tar -c -f - -C "${srctree}" -T - | tar -xf - -C "${pdir}/usr/src/linux-headers-${version}"
+		find "${pdir}/usr/src/linux-headers-${version}" -type f -exec file {} + | grep 'ELF' | cut -d: -f1 | xargs rm -f
+
+		mkdir -m 755 -p "$pdir/DEBIAN"
+		cat <<EOF >> $pdir/DEBIAN/postinst
+#!/bin/sh -e
+
+make -C /usr/src/linux-headers-$version linux-headers-postinst
+
+EOF
+		chmod 755 $pdir/DEBIAN/postinst
+	fi
 	mkdir -p $pdir/lib/modules/$version/
 	ln -s /usr/src/linux-headers-$version $pdir/lib/modules/$version/build
 }
